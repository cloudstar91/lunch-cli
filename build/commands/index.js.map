{"version":3,"sources":["../configs/index.js","index.js"],"names":["API_KEY","requestBody","range","majorDimension","values","foodID","cart","Array","fill","MenuList","list","order","setOrder","name","setName","step","setStep","listFood","setListFood","fetchData","response","data","filter","item","map","id","handleSubmitFood","input","trim","split","i","parseInt","numberRange","food","includes","console","log","postData","axios","PUT","headers","key","value","description","body","JSON","stringify","e"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAO,MAAMA,OAAO,GAAG,yCAAhB;;;;;;;;;;ACAP;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;;;;;;;AAEA,MAAMC,WAAW,GAAG;AACnBC,EAAAA,KAAK,EAAE,QADY;AAEnBC,EAAAA,cAAc,EAAE,MAFG;AAGnBC,EAAAA,MAAM,EAAE;AAHW,CAApB;AAMA,IAAIC,MAAM,GAAG,CAAb;AACA,IAAIC,IAAI,GAAGC,KAAK,CAAC,EAAD,CAAL,CAAUC,IAAV,CAAe,EAAf,CAAX,EAEA;;AACA,MAAMC,QAAQ,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAc;AAC9B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoB,qBAAS,EAAT,CAA1B;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkB,qBAAS,EAAT,CAAxB;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkB,qBAAS,CAAT,CAAxB;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0B,qBAAS,EAAT,CAAhC;AAEA,wBAAU,MAAM;AACf,mBAAeC,SAAf,GAA2B;AAC1B,YAAMC,QAAQ,GAAG,MAAM,oBACtB,sJADsB,CAAvB;AAGAF,MAAAA,WAAW,CACVE,QAAQ,CAACC,IAAT,CAAcjB,MAAd,CAAqB,CAArB,EACEkB,MADF,CACSC,IAAI,IAAIA,IAAI,IAAI,EADzB,EAEEC,GAFF,CAEMD,IAAI,KAAK;AAAEE,QAAAA,EAAE,EAAEpB,MAAM,EAAZ;AAAgBQ,QAAAA,IAAI,EAAEU;AAAtB,OAAL,CAFV,CADU,CAAX,CAJ0B,CAS1B;AACA;;AACDJ,IAAAA,SAAS;AACT,GAbD,EAaG,EAbH;;AAeA,QAAMO,gBAAgB,GAAG,CAACL,IAAD,EAAOV,KAAP,KAAiB;AACzC,UAAMgB,KAAK,GAAGhB,KAAK,CACjBiB,IADY,GAEZC,KAFY,CAEN,GAFM,EAGZL,GAHY,CAGRM,CAAC,IAAIC,QAAQ,CAACD,CAAD,CAHL,CAAd;AAIA,UAAME,WAAW,GAAGX,IAAI,CAACG,GAAL,CAASS,IAAI,IAAIA,IAAI,CAACR,EAAtB,CAApB;;AACA,QAAIE,KAAK,KAAK,CAAV,IAAeK,WAAW,CAACE,QAAZ,CAAqBP,KAAK,CAAC,CAAD,CAA1B,CAAnB,EAAmD;AAClDrB,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUO,IAAV;AACAP,MAAAA,IAAI,CAACqB,KAAK,CAAC,CAAD,CAAN,CAAJ,GAAiBA,KAAK,CAAC,CAAD,CAAtB;AACAX,MAAAA,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;AACAH,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACA,KALD,MAKO;AACNuB,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA;AACD,GAdD;;AAgBA,QAAMC,QAAQ,GAAIhB,IAAD,IAAU;AAC1BiB,mBAAMC,GAAN,CAAU,+HAAV,EAA2I;AACzIC,MAAAA,OAAO,EAAE,CAAC;AACVC,QAAAA,GAAG,EAAC,cADM;AAEVC,QAAAA,KAAK,EAAC,kBAFI;AAGVC,QAAAA,WAAW,EAAC;AAHF,OAAD,EAKT;AACAF,QAAAA,GAAG,EAAC,eADJ;AAEAC,QAAAA,KAAK,EAAC,0IAFN;AAGAC,QAAAA,WAAW,EAAC;AAHZ,OALS,CADgI;AAW1IC,MAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AACnB5C,QAAAA,KAAK,EAAE,QADY;AAEnBC,QAAAA,cAAc,EAAE,MAFG;AAGnBuC,QAAAA,KAAK,EAACrB;AAHa,OAAf;AAXqI,KAA3I;AAiBC,GAlBF;;AAoBA,UAAQN,IAAR;AACC,SAAK,CAAL;AACC,aACC,4DACC,6BAAC,SAAD,eAAUF,IAAV,MADD,EAEC,6BAAC,SAAD,iCAFD,EAGC,6BAAC,iBAAD;AAAO,QAAA,IAAI,EAAEI;AAAb,QAHD,EAIC,6BAAC,QAAD,QACC,6BAAC,QAAD;AAAK,QAAA,WAAW,EAAE;AAAlB,sCADD,EAEC,6BAAC,qBAAD;AACC,QAAA,KAAK,EAAEN,KADR;AAEC,QAAA,QAAQ,EAAEoC,CAAC,IAAInC,QAAQ,CAACmC,CAAD,CAFxB;AAGC,QAAA,QAAQ,EAAE,MAAMrB,gBAAgB,CAACT,QAAD,EAAWN,KAAX;AAHjC,QAFD,CAJD,CADD;;AAeD,SAAK,CAAL;AACC,aACC,4DACC,6BAAC,SAAD,6CADD,EAEC,6BAAC,qBAAD;AACC,QAAA,KAAK,EAAC,EADP;AAEC,QAAA,QAAQ,EAAEoC,CAAC,IAAKA,CAAC,KAAK,GAAN,GAAY/B,OAAO,CAAC,CAAD,CAAnB,GAAyBA,OAAO,CAACD,IAAI,GAAG,CAAR;AAFjD,QAFD,CADD;;AASD,SAAK,CAAL;AACC,aACC,4DACC,6BAAC,SAAD,oDADD,EAEM,6BAAC,SAAD,mDAFN,CADD;;AAMD;AACC,aACC,4DACC,6BAAC,QAAD;AAAK,QAAA,WAAW,EAAE;AAAlB,SACC,6BAAC,SAAD,4BADD,EAEC,6BAAC,qBAAD;AACC,QAAA,KAAK,EAAEF,IADR;AAEC,QAAA,QAAQ,EAAEkC,CAAC,IAAIjC,OAAO,CAACiC,CAAD,CAFvB;AAGC,QAAA,QAAQ,EAAE,MAAM/B,OAAO,CAACD,IAAI,GAAG,CAAR;AAHxB,QAFD,CADD,CADD;AAnCF;AAgDA,CAzGD;;eA2GeN","file":"index.js","sourceRoot":"../../commands","sourcesContent":["export const API_KEY = \"AIzaSyCccptxVWHp1Mf4BGCC33m1SzgwU14BRD4\";\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Text, Box } from \"ink\";\nimport Table from \"ink-table\";\nimport axios from \"axios\";\n\nimport TextInput from \"ink-text-input\";\nimport { API_KEY } from \"../configs\";\n\nconst requestBody = {\n\trange: \"Sheet1\",\n\tmajorDimension: \"ROWS\",\n\tvalues: []\n};\n\nvar foodID = 1;\nvar cart = Array(15).fill(\"\");\n\n///List all Menu for today\nconst MenuList = ({ list }) => {\n\tconst [order, setOrder] = useState(\"\");\n\tconst [name, setName] = useState(\"\");\n\tconst [step, setStep] = useState(0);\n\tconst [listFood, setListFood] = useState({});\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tconst response = await axios(\n\t\t\t\t\"https://sheets.googleapis.com/v4/spreadsheets/1ZjzZKCMOFp5YncC3yZLLwFW4sER6p5fkR0rA5KvhHrY/values/Sheet1?key=AIzaSyCccptxVWHp1Mf4BGCC33m1SzgwU14BRD4\"\n\t\t\t);\n\t\t\tsetListFood(\n\t\t\t\tresponse.data.values[1]\n\t\t\t\t\t.filter(item => item != \"\")\n\t\t\t\t\t.map(item => ({ id: foodID++, name: item }))\n\t\t\t);\n\t\t\t//Array(response.data.values[1].length).fill(\"\"));\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst handleSubmitFood = (data, order) => {\n\t\tconst input = order\n\t\t\t.trim()\n\t\t\t.split(\" \")\n\t\t\t.map(i => parseInt(i));\n\t\tconst numberRange = data.map(food => food.id);\n\t\tif (input === 0 || numberRange.includes(input[0])) {\n\t\t\tcart[0] = name;\n\t\t\tcart[input[0]] = input[1];\n\t\t\tsetStep(step + 1);\n\t\t\tsetOrder(\"\");\n\t\t} else {\n\t\t\tconsole.log(\"number invalid\");\n\t\t}\n\t};\n\n\tconst postData = (data) => {\n\t\taxios.PUT(\"https://sheets.googleapis.com/v4/spreadsheets/1ZjzZKCMOFp5YncC3yZLLwFW4sER6p5fkR0rA5KvhHrY/values/Sheet1?valueInputOption=RAW\", {\n\t\t\t\theaders: [{\n\t\t\t\tkey:\"Content-Type\",\n\t\t\t\tvalue:\"application/json\",\n\t\t\t\tdescription:\"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\tkey:\"Authorization\",\n\t\t\t\tvalue:\"ya29.ImCpB60wV3E1kUPn7MLaa6WY546MrFIID7ImVM8NVmMqjsOj83Tdutg0I0ydCR8-5ATDMWc4LYZJGCGlL9g2x3PlboGoWMDYFDRoxzPeARYHLIQU-cSq3Y9wls4maBRiRDw\",\n\t\t\t\tdescription:\"\"\n\t\t\t\t}],\n\t\t\tbody:JSON.stringify({\n\t\t\t\trange: \"Sheet1\",\n\t\t\t\tmajorDimension: \"ROWS\",\n\t\t\t\tvalue:data\n\t\t\t\t})\n\t\t})\n\t\t};\n\n\tswitch (step) {\n\t\tcase 1:\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Text>Hi {name} </Text>\n\t\t\t\t\t<Text>List foods for today: </Text>\n\t\t\t\t\t<Table data={listFood} />\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Box marginRight={1}>Pick number and quantity: </Box>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tvalue={order}\n\t\t\t\t\t\t\tonChange={e => setOrder(e)}\n\t\t\t\t\t\t\tonSubmit={() => handleSubmitFood(listFood, order)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t</>\n\t\t\t);\n\t\tcase 2:\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Text>Do you want to choose other(y/n): </Text>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\tvalue=\"\"\n\t\t\t\t\t\tonChange={e => (e === \"y\" ? setStep(1) : setStep(step + 1))}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t);\n\t\tcase 3:\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Text>Order Succeed. Type anything to quit !!! </Text>\n\t\t\t\t\t\t\t\t\t\t<Text>Done. Thank you and have a nice day !!! </Text>\n\t\t\t\t</>\n\t\t\t);\n\t\tdefault:\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Box marginRight={1}>\n\t\t\t\t\t\t<Text> Type your name: </Text>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\tonChange={e => setName(e)}\n\t\t\t\t\t\t\tonSubmit={() => setStep(step + 1)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t</>\n\t\t\t);\n\t}\n};\n\nexport default MenuList;\n"]}